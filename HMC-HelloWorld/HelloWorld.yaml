RTCInPorts:

 - name: rtc-inport-creator-rtc
   plugin: /home/rcisneros/openrtp/lib/hmc2/RTCInPortCreatorRtc.so
   init:
     - command: ":create-rtc-inport  qInit    TimedDoubleSeq      angle_ini        joint_dvector"
     - command: ":create-rtc-inport  pInit    TimedPoint3D        basePos_ini      Vector3"
     - command: ":create-rtc-inport  rpyInit  TimedOrientation3D  baseAtt_ini      Matrix33"
     - command: ":create-rtc-inport  q        TimedDoubleSeq      angle_measure    joint_dvector"
     - command: ":create-rtc-inport  rpy      TimedOrientation3D  baseAtt_measure  Matrix33"
     - command: ":register-created-outports   hmc"
     - command: ":reference-timestamp-port    q"

RTCOutPorts:

 - name: rtc-outport-creator-rtc
   plugin: /home/rcisneros/openrtp/lib/hmc2/RTCOutPortCreatorRtc.so
   init:
     - command: ":create-rtc-outport-with-copy  qRes    TimedDoubleSeq      angleRes    joint_dvector"
     - command: ":create-rtc-outport-with-copy  pRes    TimedPoint3D        basePosRes  Vector3"
     - command: ":create-rtc-outport-with-copy  rpyRes  TimedOrientation3D  baseAttRes  Matrix33"
     
 - name: rtc-outport-creator-with-protection-rtc
   plugin: /home/rcisneros/openrtp/lib/hmc2/RTCOutPortCreatorWithProtectionRtc.so
   init:
     - command: ":create-rtc-outport-with-copy  qRef    TimedDoubleSeq      angleGen    joint_dvector"
     - command: ":create-rtc-outport-with-copy  pRef    TimedPoint3D        basePosGen  Vector3"
     - command: ":create-rtc-outport-with-copy  rpyRef  TimedOrientation3D  baseAttGen  Matrix33"
     - command: ":register-created-inports      hmc"
     - command: ":current-joint-angles          hmc     angle_ini"
     - command: ":output-joint-angles           hmc     angleGen"

InitialPose:

 - basePos: [ 0,   0,   0.79]
   baseAtt: [ 1,   0,   0,
              0,   1,   0,
              0,   0,   1 ]
   angles: [  0,   0, -27,  50, -23,   0,
              0,   0, -27,  50, -23,   0,
              0,   0,   0,
              0,   0,
              0,  15, -10,   0, -30,   0, -30,   0,   0,
              1,   0,   0,  -1,   0,   0,  -1,   0,   0,
              0,  15,  10,   0, -30,   0,  30,   0,   0,
             -1,   0,   0,   1,   0,   0,   1,   0,   0 ]

HMCPlugins:

 - name: hello-world
   plugin: /home/rcisneros/openrtp/lib/hmc2/HelloWorld.so
   init:
     - command: ":set-name Rafa"
   
 - name: state-logger
   plugin: /home/rcisneros/openrtp/lib/hmc2/StateLogger.so
   subPlugins:
     - name: joint-logger
       plugin: /home/rcisneros/openrtp/lib/hmc2/StateLogger/SharedDataLogger.so
       init-last:
         - command: ":log-name joint-motion log"
         - command: ":default-data-format P R_rpy"
         - command: ":add-data-port hmc          dInternalTime  time"
         - command: ":add-data-port hello-world  qOut           qOut_"

PluginGroup:

 - name: HumanoidMotionControlBypassMode
   plugins: [ rtc-inport-creator-rtc,
              hello-world,
              rtc-outport-creator-rtc,
              rtc-outport-creator-with-protection-rtc
            ]
   connect-at-start:

     - OutPort: [ hmc, basePos_ini ]
       InPort:  [ hmc, basePosGen  ]
     - OutPort: [ hmc, baseAtt_ini ]
       InPort:  [ hmc, baseAttGen  ]
     - OutPort: [ hmc, angle_ini   ]
       InPort:  [ hmc, angleGen    ]
       
     - OutPort: [ hmc, basePos_ini     ]
       InPort:  [ hmc, basePosRes      ]
     - OutPort: [ hmc, baseAtt_measure ]
       InPort:  [ hmc, baseAttRes      ]
     - OutPort: [ hmc, angle_measure   ]
       InPort:  [ hmc, angleRes        ]

     - OutPort: [ hmc, angle_measure   ]
       InPort:  [ hello-world,   qIn   ]

 - name: Logger
   plugins: [ state-logger,
              [ joint-motion-logger
              ]
            ]
